<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">
  <camelContext autoStartup="true" xmlns="http://camel.apache.org/schema/blueprint" id="CamelWebService">
    <route id="WebServiceRoute">
       <from uri="jetty:http://127.0.0.1:8180/jmsService" />
       <to uri="activemq:jmsService" />
    </route>
  </camelContext>

    <bean id="jetty" class="org.apache.camel.component.jetty8.JettyHttpComponent8">
        <property name="socketConnectorProperties">
            <map>
                <entry key="acceptors" value="4"/>
                <entry key="maxIdleTime" value="300000"/>
            </map>
        </property>
    </bean>

    <bean id="activemq" class="org.apache.activemq.camel.component.ActiveMQComponent" >
        <property name="connectionFactory">
          <bean class="org.apache.activemq.ActiveMQConnectionFactory">
            <property name="brokerURL" value="tcp://localhost:62626"/>
            <property name="userName" value="system"/>
            <property name="password" value="manager"/>
          </bean>
        </property>
    </bean>

</blueprint>
